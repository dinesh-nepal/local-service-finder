


{% extends "admin/base.html" %}

{% block page_title %}Admin Settings{% endblock %}

{% block content %}
<div class="settings-container">
    <div class="settings-section">
        <h2>Change Username</h2>
        <form method="POST" class="admin-form">
            <input type="hidden" name="action" value="change_username">
            <div class="form-group">
                <label for="new_username">New Username</label>
                <input type="text" id="new_username" name="new_username" value="{{ current_user.username }}" required>
            </div>
            <button type="submit" class="btn-submit">Update Username</button>
        </form>
    </div>

    <div class="settings-section">
        <h2>Change Email</h2>
        <form method="POST" class="admin-form">
            <input type="hidden" name="action" value="change_email">
            <div class="form-group">
                <label for="new_email">New Email</label>
                <input type="email" id="new_email" name="new_email" value="{{ current_user.email }}" required>
            </div>
            <div class="form-group">
                <label for="confirm_password_email">Confirm Password</label>
                <input type="password" id="confirm_password_email" name="confirm_password" required>
                <small>Enter your current password to confirm email change</small>
            </div>
            <button type="submit" class="btn-submit">Update Email</button>
        </form>
    </div>

    <div class="settings-section">
        <h2>Change Password</h2>
        <form method="POST" class="admin-form">
            <input type="hidden" name="action" value="change_password">
            <div class="form-group">
                <label for="current_password">Current Password</label>
                <input type="password" id="current_password" name="current_password" required>
            </div>
            <div class="form-group">
                <label for="new_password">New Password</label>
                <input type="password" id="new_password" name="new_password" required minlength="6">
                <small>Minimum 6 characters, at least 1 uppercase letter and 1 number</small>
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm New Password</label>
                <input type="password" id="confirm_password" name="confirm_password" required>
            </div>
            <button type="submit" class="btn-submit">Update Password</button>
        </form>
    </div>

    <div class="settings-section">
        <h2>Account Information</h2>
        <div class="info-grid">
            <div class="info-item">
                <strong>Username:</strong>
                <span>{{ current_user.username }}</span>
            </div>
            <div class="info-item">
                <strong>Email:</strong>
                <span>{{ current_user.email }}</span>
            </div>
            <div class="info-item">
                <strong>Full Name:</strong>
                <span>{{ current_user.full_name }}</span>
            </div>
            <div class="info-item">
                <strong>Phone:</strong>
                <span>{{ current_user.phone }}</span>
            </div>
            <div class="info-item">
                <strong>Role:</strong>
                <span class="badge badge-approved">Administrator</span>
            </div>
            <div class="info-item">
                <strong>Account Created:</strong>
                <span>{{ current_user.created_at.strftime('%Y-%m-%d') }}</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
